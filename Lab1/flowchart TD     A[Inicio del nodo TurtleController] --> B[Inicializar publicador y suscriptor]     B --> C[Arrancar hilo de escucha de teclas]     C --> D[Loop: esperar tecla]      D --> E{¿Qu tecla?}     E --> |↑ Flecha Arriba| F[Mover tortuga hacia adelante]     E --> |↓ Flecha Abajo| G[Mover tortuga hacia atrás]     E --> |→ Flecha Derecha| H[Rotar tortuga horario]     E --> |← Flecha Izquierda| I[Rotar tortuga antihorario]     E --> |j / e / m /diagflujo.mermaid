flowchart TD
    A[Inicio del nodo TurtleController] --> B[Inicializar publicador y suscriptor]
    B --> C[Arrancar hilo de escucha de teclas]
    C --> D[Loop: esperar tecla]

    D --> E{¿Qu tecla?}
    E --> |↑ Flecha Arriba| F[Mover tortuga hacia adelante]
    E --> |↓ Flecha Abajo| G[Mover tortuga hacia atrás]
    E --> |→ Flecha Derecha| H[Rotar tortuga horario]
    E --> |← Flecha Izquierda| I[Rotar tortuga antihorario]
    E --> |j / e / m / g / a| J[Dibujar letra correspondiente]
    E --> |q| K[Salir y shutdown ROS]

    subgraph Movimiento simple
        F --> L[Publicar vel.linear.x = +1.5]
        G --> M[Publicar vel.linear.x = -1.5]
        H --> N[Publicar vel.angular.z = -1.5]
        I --> O[Publicar vel.angular.z = +1.5]
        L & M & N & O --> P[Sleep 0.2s y detener]
    end
